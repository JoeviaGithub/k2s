#!/usr/bin/env node

process.env.DEBUG = '*';

var JsSIP = require('../');
var debug = require('debug')('test-ef2f-agent');
var debugerror = require('debug')('test-ef2f-agent:ERROR');

debug.log = console.info.bind(console);
debugerror.log = console.error.bind(console);


var ua = new JsSIP.UA(
	{
		'ws_servers'        : 'wss://dev.ef2f.com/sip',
		'uri'               : 'sip:inaki@ef2f.com',
		// 'password'          : 'KJHdfg03',
		// 'realm'             : 'ef2f.com',
		'ha1'               : '270fe19ce3890bd85d105998b0a95cf0',
		'register'          : true,
		'register_expires'  : 600,
		'no_answer_timeout' : 180,
		'hack_via_ws'       : true
	});



global.ua = ua;



// Run interactive Node REPL.

var r = require('repl').start(
	{
		prompt: '>>> ',
		useColors: true,
		useGlobal: true,
		ignoreUndefined: false
	});

r.on('exit', function()
{
	process.exit();
});
